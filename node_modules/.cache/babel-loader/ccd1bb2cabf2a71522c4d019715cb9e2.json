{"ast":null,"code":"import { fabric } from 'fabric';\nimport { box } from '../assets/BoundingBox.js';\nexport default {\n  name: 'imageUpload',\n  props: {\n    canW: {\n      type: [String, Number],\n      required: true\n    },\n    canH: {\n      type: [String, Number],\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      item: {\n        image: null,\n        imageUrl: null\n      },\n      canvas: null,\n      boundingO: {\n        boundingOx: 0,\n        boundingOy: 0\n      }\n    };\n  },\n\n  mounted() {\n    this.canvas = new fabric.Canvas(this.$refs.can);\n    this.canvas.setDimensions({\n      width: this.canW,\n      height: this.canH\n    });\n  },\n\n  methods: {\n    onChange(e) {\n      const file = e.target.files[0];\n      this.image = file;\n      this.item.imageUrl = URL.createObjectURL(file);\n      this.canvas.setBackgroundImage(this.item.imageUrl, this.canvas.renderAll.bind(this.canvas));\n      this.canvas.add(box);\n    },\n\n    startbox($event) {}\n\n  }\n};","map":{"version":3,"mappings":"AAMA,SAASA,MAAT,QAAuB,QAAvB;AACA,SAASC,GAAT,QAAoB,0BAApB;AAEA,eAAe;AACbC,MAAI,EAAE,aADO;AAEbC,OAAK,EAAE;AACHC,QAAI,EAAE;AACFC,UAAI,EAAE,CAACC,MAAD,EAAQC,MAAR,CADJ;AAEFC,cAAQ,EAAE;AAFR,KADH;AAKHC,QAAI,EAAE;AACFJ,UAAI,EAAE,CAACC,MAAD,EAAQC,MAAR,CADJ;AAEFC,cAAQ,EAAE;AAFR;AALH,GAFM;;AAYbE,MAAI,GAAG;AACL,WAAO;AACLC,UAAI,EAAC;AACDC,aAAI,EAAI,IADP;AAEDC,gBAAQ,EAAE;AAFT,OADA;AAKLC,YAAM,EAAE,IALH;AAMLC,eAAS,EAAE;AACTC,kBAAU,EAAE,CADH;AAETC,kBAAU,EAAE;AAFH;AANN,KAAP;AAWD,GAxBY;;AAyBbC,SAAO,GAAG;AACN,SAAKJ,MAAL,GAAc,IAAId,MAAM,CAACmB,MAAX,CAAkB,KAAKC,KAAL,CAAWC,GAA7B,CAAd;AACA,SAAKP,MAAL,CAAYQ,aAAZ,CAA0B;AAACC,WAAK,EAAE,KAAKnB,IAAb;AAAmBoB,YAAM,EAAE,KAAKf;AAAhC,KAA1B;AACH,GA5BY;;AA6BbgB,SAAO,EAAE;AACPC,YAAQ,CAACC,CAAD,EAAI;AACV,YAAMC,IAAG,GAAID,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACA,WAAKlB,KAAL,GAAagB,IAAb;AACA,WAAKjB,IAAL,CAAUE,QAAV,GAAqBkB,GAAG,CAACC,eAAJ,CAAoBJ,IAApB,CAArB;AACA,WAAKd,MAAL,CAAYmB,kBAAZ,CAA+B,KAAKtB,IAAL,CAAUE,QAAzC,EAAmD,KAAKC,MAAL,CAAYoB,SAAZ,CAAsBC,IAAtB,CAA2B,KAAKrB,MAAhC,CAAnD;AACA,WAAKA,MAAL,CAAYsB,GAAZ,CAAgBnC,GAAhB;AACD,KAPM;;AAQPoC,YAAQ,CAACC,MAAD,EAAS,CAEjB;;AAVO;AA7BI,CAAf","names":["fabric","box","name","props","canW","type","String","Number","required","canH","data","item","image","imageUrl","canvas","boundingO","boundingOx","boundingOy","mounted","Canvas","$refs","can","setDimensions","width","height","methods","onChange","e","file","target","files","URL","createObjectURL","setBackgroundImage","renderAll","bind","add","startbox","$event"],"sourceRoot":"","sources":["/home/joe/Desktop/poiesis/src/components/UploadButton.vue"],"sourcesContent":["<template>\n    <input type=\"file\" accept=\"image/*\" @change=\"onChange\" />\n    <canvas ref=\"can\" @mousedown=\"startbox\"></canvas>\n</template>\n\n<script>\nimport { fabric } from 'fabric';\nimport { box } from '../assets/BoundingBox.js'\n\nexport default {\n  name: 'imageUpload',\n  props: {\n      canW: {\n          type: [String,Number],\n          required: true\n      },\n      canH: {\n          type: [String,Number],\n          required: true\n      },\n  },\n  data() {\n    return {\n      item:{\n          image : null,\n          imageUrl: null\n      },\n      canvas: null,\n      boundingO: {\n        boundingOx: 0,\n        boundingOy: 0,\n      }\n    }\n  },\n  mounted() {\n      this.canvas = new fabric.Canvas(this.$refs.can);\n      this.canvas.setDimensions({width: this.canW, height: this.canH});\n  },\n  methods: {\n    onChange(e) {\n      const file = e.target.files[0];\n      this.image = file;\n      this.item.imageUrl = URL.createObjectURL(file);\n      this.canvas.setBackgroundImage(this.item.imageUrl, this.canvas.renderAll.bind(this.canvas))\n      this.canvas.add(box);\n    },\n    startbox($event) {\n\n    }\n  },\n\n} \n</script>\n// Some inspiration from https://stackoverflow.com/questions/47650154/how-do-i-upload-image-in-vuejs"]},"metadata":{},"sourceType":"module"}