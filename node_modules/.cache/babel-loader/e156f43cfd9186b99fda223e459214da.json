{"ast":null,"code":"import { fabric } from 'fabric';\nimport BoundingBox from '../assets/BoundingBox.js';\nexport default {\n  name: 'imageUpload',\n  props: {\n    canW: {\n      type: [String, Number],\n      required: true\n    },\n    canH: {\n      type: [String, Number],\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      item: {\n        image: null,\n        imageUrl: null\n      },\n      canvas: null,\n      boundingBoxActive: false\n    };\n  },\n\n  mounted() {\n    this.canvas = new fabric.Canvas(this.$refs.can, {\n      selection: false\n    });\n    this.canvas.setDimensions({\n      width: this.canW,\n      height: this.canH\n    });\n  },\n\n  methods: {\n    onChange(e) {\n      const file = e.target.files[0];\n      this.image = file;\n      this.item.imageUrl = URL.createObjectURL(file);\n      this.canvas.setBackgroundImage(this.item.imageUrl, this.canvas.renderAll.bind(this.canvas)); // if (this.boundingBoxActive) {BoundingBox(this.canvas);}\n    },\n\n    onBoundingBoxActive() {\n      this.boundingBoxActive = !this.boundingBoxActive;\n      BoundingBox(this.canvas, this.boundingBoxActive);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAOA,SAASA,MAAT,QAAuB,QAAvB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AAEA,eAAe;AACbC,MAAI,EAAE,aADO;AAEbC,OAAK,EAAE;AACHC,QAAI,EAAE;AACFC,UAAI,EAAE,CAACC,MAAD,EAAQC,MAAR,CADJ;AAEFC,cAAQ,EAAE;AAFR,KADH;AAKHC,QAAI,EAAE;AACFJ,UAAI,EAAE,CAACC,MAAD,EAAQC,MAAR,CADJ;AAEFC,cAAQ,EAAE;AAFR;AALH,GAFM;;AAYbE,MAAI,GAAG;AACL,WAAO;AACLC,UAAI,EAAC;AACDC,aAAI,EAAI,IADP;AAEDC,gBAAQ,EAAE;AAFT,OADA;AAKLC,YAAM,EAAE,IALH;AAMJC,uBAAiB,EAAE;AANf,KAAP;AAQD,GArBY;;AAsBbC,SAAO,GAAG;AACN,SAAKF,MAAL,GAAc,IAAId,MAAM,CAACiB,MAAX,CAAkB,KAAKC,KAAL,CAAWC,GAA7B,EAAkC;AAACC,eAAS,EAAE;AAAZ,KAAlC,CAAd;AACA,SAAKN,MAAL,CAAYO,aAAZ,CAA0B;AAACC,WAAK,EAAE,KAAKlB,IAAb;AAAmBmB,YAAM,EAAE,KAAKd;AAAhC,KAA1B;AACH,GAzBY;;AA0Bbe,SAAO,EAAE;AACPC,YAAQ,CAACC,CAAD,EAAI;AACV,YAAMC,IAAG,GAAID,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACA,WAAKjB,KAAL,GAAae,IAAb;AACA,WAAKhB,IAAL,CAAUE,QAAV,GAAqBiB,GAAG,CAACC,eAAJ,CAAoBJ,IAApB,CAArB;AACA,WAAKb,MAAL,CAAYkB,kBAAZ,CAA+B,KAAKrB,IAAL,CAAUE,QAAzC,EAAmD,KAAKC,MAAL,CAAYmB,SAAZ,CAAsBC,IAAtB,CAA2B,KAAKpB,MAAhC,CAAnD,EAJU,CAKV;AACD,KAPM;;AAQPqB,uBAAmB,GAAG;AACpB,WAAKpB,iBAAL,GAAyB,CAAC,KAAKA,iBAA/B;AACAd,iBAAW,CAAC,KAAKa,MAAN,EAAc,KAAKC,iBAAnB,CAAX;AACF;;AAXO;AA1BI,CAAf","names":["fabric","BoundingBox","name","props","canW","type","String","Number","required","canH","data","item","image","imageUrl","canvas","boundingBoxActive","mounted","Canvas","$refs","can","selection","setDimensions","width","height","methods","onChange","e","file","target","files","URL","createObjectURL","setBackgroundImage","renderAll","bind","onBoundingBoxActive"],"sourceRoot":"","sources":["C:\\Users\\joeyf\\Documents\\CIS 671\\poiesis\\src\\components\\UploadButton.vue"],"sourcesContent":["<template>\r\n    <input type=\"file\" accept=\"image/*\" @change=\"onChange\" />\r\n    <button @click=\"onBoundingBoxActive\"> Bounding Box </button>\r\n    <canvas ref=\"can\"></canvas>\r\n</template>\r\n\r\n<script>\r\nimport { fabric } from 'fabric';\r\nimport BoundingBox from '../assets/BoundingBox.js'\r\n\r\nexport default {\r\n  name: 'imageUpload',\r\n  props: {\r\n      canW: {\r\n          type: [String,Number],\r\n          required: true\r\n      },\r\n      canH: {\r\n          type: [String,Number],\r\n          required: true\r\n      },\r\n  },\r\n  data() {\r\n    return {\r\n      item:{\r\n          image : null,\r\n          imageUrl: null\r\n      },\r\n      canvas: null,\r\n       boundingBoxActive: false,\r\n    }\r\n  },\r\n  mounted() {\r\n      this.canvas = new fabric.Canvas(this.$refs.can, {selection: false});\r\n      this.canvas.setDimensions({width: this.canW, height: this.canH});\r\n  },\r\n  methods: {\r\n    onChange(e) {\r\n      const file = e.target.files[0];\r\n      this.image = file;\r\n      this.item.imageUrl = URL.createObjectURL(file);\r\n      this.canvas.setBackgroundImage(this.item.imageUrl, this.canvas.renderAll.bind(this.canvas))\r\n      // if (this.boundingBoxActive) {BoundingBox(this.canvas);}\r\n    },\r\n    onBoundingBoxActive() {\r\n      this.boundingBoxActive = !this.boundingBoxActive;\r\n      BoundingBox(this.canvas, this.boundingBoxActive);   \r\n    }\r\n  },\r\n\r\n} \r\n</script>\r\n// Some inspiration from https://stackoverflow.com/questions/47650154/how-do-i-upload-image-in-vuejs"]},"metadata":{},"sourceType":"module"}