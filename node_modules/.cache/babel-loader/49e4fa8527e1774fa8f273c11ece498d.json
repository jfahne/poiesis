{"ast":null,"code":"import { fabric } from \"fabric\";\nexport default function (canvas) {\n  let box, isDown, origX, origY;\n\n  if (canvas.boundingBoxActive) {\n    canvas.off('mouse:down').off('mouse:move').off('mouse:up');\n    return;\n  }\n\n  canvas.on('mouse:down', function (o) {\n    isDown = true;\n    let pointer = canvas.getPointer(o.e);\n    origX = pointer.x;\n    origY = pointer.y;\n    pointer = canvas.getPointer(o.e);\n    box = new fabric.Rect({\n      left: origX,\n      top: origY,\n      fill: 'yellow',\n      width: pointer.x - origX,\n      height: pointer.y - origY,\n      opacity: 0.5\n    });\n    canvas.add(box);\n  });\n  canvas.on('mouse:move', function (o) {\n    if (!isDown) return;\n    let pointer = canvas.getPointer(o.e);\n\n    if (origX > pointer.x) {\n      box.set({\n        left: pointer.x\n      });\n    }\n\n    if (origY > pointer.y) {\n      box.set({\n        top: pointer.y\n      });\n    }\n\n    box.set({\n      width: pointer.x - origX\n    });\n    box.set({\n      height: pointer.y - origY\n    });\n    canvas.renderAll();\n  }); //canvas.on('mouse:up', function() {\n  //isDown = false;\n  //});\n} // code from https://stackoverflow.com/questions/9417603/fabric-js-free-draw-a-rectangle","map":{"version":3,"sources":["C:/Users/joeyf/Documents/CIS 671/poiesis/src/assets/BoundingBox.js"],"names":["fabric","canvas","box","isDown","origX","origY","boundingBoxActive","off","on","o","pointer","getPointer","e","x","y","Rect","left","top","fill","width","height","opacity","add","set","renderAll"],"mappings":"AAAA,SAASA,MAAT,QAAuB,QAAvB;AAEA,eAAe,UAASC,MAAT,EAAiB;AAC5B,MAAIC,GAAJ,EAASC,MAAT,EAAiBC,KAAjB,EAAwBC,KAAxB;;AACA,MAAIJ,MAAM,CAACK,iBAAX,EAA8B;AAC1BL,IAAAA,MAAM,CAACM,GAAP,CAAW,YAAX,EAAyBA,GAAzB,CAA6B,YAA7B,EAA2CA,GAA3C,CAA+C,UAA/C;AACA;AACH;;AACDN,EAAAA,MAAM,CAACO,EAAP,CAAU,YAAV,EAAwB,UAASC,CAAT,EAAY;AAChCN,IAAAA,MAAM,GAAG,IAAT;AACA,QAAIO,OAAO,GAAGT,MAAM,CAACU,UAAP,CAAkBF,CAAC,CAACG,CAApB,CAAd;AACAR,IAAAA,KAAK,GAAGM,OAAO,CAACG,CAAhB;AACAR,IAAAA,KAAK,GAAGK,OAAO,CAACI,CAAhB;AACAJ,IAAAA,OAAO,GAAGT,MAAM,CAACU,UAAP,CAAkBF,CAAC,CAACG,CAApB,CAAV;AACAV,IAAAA,GAAG,GAAG,IAAIF,MAAM,CAACe,IAAX,CAAgB;AAClBC,MAAAA,IAAI,EAAEZ,KADY;AAElBa,MAAAA,GAAG,EAAEZ,KAFa;AAGlBa,MAAAA,IAAI,EAAE,QAHY;AAIlBC,MAAAA,KAAK,EAAET,OAAO,CAACG,CAAR,GAAYT,KAJD;AAKlBgB,MAAAA,MAAM,EAAEV,OAAO,CAACI,CAAR,GAAYT,KALF;AAMlBgB,MAAAA,OAAO,EAAE;AANS,KAAhB,CAAN;AAQApB,IAAAA,MAAM,CAACqB,GAAP,CAAWpB,GAAX;AACH,GAfD;AAiBAD,EAAAA,MAAM,CAACO,EAAP,CAAU,YAAV,EAAwB,UAASC,CAAT,EAAY;AAChC,QAAI,CAACN,MAAL,EAAa;AACb,QAAIO,OAAO,GAAGT,MAAM,CAACU,UAAP,CAAkBF,CAAC,CAACG,CAApB,CAAd;;AAEA,QAAIR,KAAK,GAAGM,OAAO,CAACG,CAApB,EAAuB;AACnBX,MAAAA,GAAG,CAACqB,GAAJ,CAAQ;AAAEP,QAAAA,IAAI,EAAEN,OAAO,CAACG;AAAhB,OAAR;AACH;;AACD,QAAIR,KAAK,GAAGK,OAAO,CAACI,CAApB,EAAuB;AACnBZ,MAAAA,GAAG,CAACqB,GAAJ,CAAQ;AAAEN,QAAAA,GAAG,EAAEP,OAAO,CAACI;AAAf,OAAR;AACH;;AACDZ,IAAAA,GAAG,CAACqB,GAAJ,CAAQ;AAAEJ,MAAAA,KAAK,EAAET,OAAO,CAACG,CAAR,GAAYT;AAArB,KAAR;AACAF,IAAAA,GAAG,CAACqB,GAAJ,CAAQ;AAAEH,MAAAA,MAAM,EAAEV,OAAO,CAACI,CAAR,GAAYT;AAAtB,KAAR;AAEAJ,IAAAA,MAAM,CAACuB,SAAP;AACH,GAdD,EAvB4B,CAuC5B;AACI;AACJ;AACH,C,CAED","sourcesContent":["import { fabric } from \"fabric\";\r\n\r\nexport default function(canvas) {\r\n    let box, isDown, origX, origY;\r\n    if (canvas.boundingBoxActive) {\r\n        canvas.off('mouse:down').off('mouse:move').off('mouse:up');\r\n        return;\r\n    }\r\n    canvas.on('mouse:down', function(o) {\r\n        isDown = true;\r\n        let pointer = canvas.getPointer(o.e);\r\n        origX = pointer.x;\r\n        origY = pointer.y;\r\n        pointer = canvas.getPointer(o.e);\r\n        box = new fabric.Rect({\r\n            left: origX,\r\n            top: origY,\r\n            fill: 'yellow',\r\n            width: pointer.x - origX,\r\n            height: pointer.y - origY,\r\n            opacity: 0.5\r\n        });\r\n        canvas.add(box);\r\n    });\r\n\r\n    canvas.on('mouse:move', function(o) {\r\n        if (!isDown) return;\r\n        let pointer = canvas.getPointer(o.e);\r\n\r\n        if (origX > pointer.x) {\r\n            box.set({ left: pointer.x });\r\n        }\r\n        if (origY > pointer.y) {\r\n            box.set({ top: pointer.y });\r\n        }\r\n        box.set({ width: pointer.x - origX });\r\n        box.set({ height: pointer.y - origY });\r\n\r\n        canvas.renderAll();\r\n    });\r\n\r\n    //canvas.on('mouse:up', function() {\r\n        //isDown = false;\r\n    //});\r\n}\r\n\r\n// code from https://stackoverflow.com/questions/9417603/fabric-js-free-draw-a-rectangle"]},"metadata":{},"sourceType":"module"}