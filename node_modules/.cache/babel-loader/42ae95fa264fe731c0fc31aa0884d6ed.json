{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"col\"\n};\nconst _hoisted_2 = {\n  class: \"navBar\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = {\n  class: \"row\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Outline\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = [_hoisted_6];\nconst _hoisted_8 = {\n  class: \"col\"\n};\nconst _hoisted_9 = {\n  class: \"row\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Upload your graph\", -1\n/* HOISTED */\n);\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Functional Bar\", -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = {\n  class: \"button-group\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Graph\", -1\n/* HOISTED */\n);\n\nconst _hoisted_14 = {\n  ref: \"can\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_VueWriter = _resolveComponent(\"VueWriter\");\n\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"container\", $data.mode === 'dark' ? 'dark' : 'light'])\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_VueWriter, {\n    array: $data.arr,\n    typeSpeed: 100,\n    eraseSpeed: 70,\n    delay: 2000\n  }, null, 8\n  /* PROPS */\n  , [\"array\"]), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"something\", $data.mode === 'dark' ? 'dark' : 'light'])\n  }, [_createElementVNode(\"button\", {\n    class: _normalizeClass($data.mode === 'dark' ? 'dark-mode-button-dark' : 'dark-mode-button-light'),\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.changeMode && $options.changeMode(...args))\n  }, [$data.mode === 'light' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, [_createVNode(_component_font_awesome_icon, {\n    icon: \"sun\",\n    size: \"3x\"\n  })])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_4, [_createVNode(_component_font_awesome_icon, {\n    icon: \"moon\",\n    size: \"3x\"\n  })]))], 2\n  /* CLASS */\n  )], 2\n  /* CLASS */\n  )]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"graph horizontal-container\", $data.mode === 'dark' ? 'dark-container' : 'light-container'])\n  }, _hoisted_7, 2\n  /* CLASS */\n  ), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"upload horizontal-container\", $data.mode === 'dark' ? 'dark-container' : 'light-container'])\n  }, [_hoisted_10, _createElementVNode(\"input\", {\n    class: \"upload-button\",\n    type: \"file\",\n    accept: \"image/*\",\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.uploadFile && $options.uploadFile(...args))\n  }, null, 32\n  /* HYDRATE_EVENTS */\n  )], 2\n  /* CLASS */\n  ), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"undoRedo horizontal-container\", $data.mode === 'dark' ? 'dark-container' : 'light-container'])\n  }, [_hoisted_11, _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.undoHistory && $options.undoHistory(...args))\n  }, \" Undo \"), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.redoHistory && $options.redoHistory(...args))\n  }, \" Redo \"), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.onBoundingBoxActive && $options.onBoundingBoxActive(...args))\n  }, \" Bounding Box \"), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.logCanvasData && $options.logCanvasData(...args))\n  }, \" Log Canvas \")])], 2\n  /* CLASS */\n  )]), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"horizontal-container min-height\", $data.mode === 'dark' ? 'dark-container' : 'light-container'])\n  }, [_hoisted_13, _createElementVNode(\"canvas\", _hoisted_14, null, 512\n  /* NEED_PATCH */\n  )], 2\n  /* CLASS */\n  )])])])], 2\n  /* CLASS */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_hoisted_6","ref","_createElementBlock","$data","_createVNode","_component_VueWriter","array","typeSpeed","eraseSpeed","delay","onClick","$options","_hoisted_3","_component_font_awesome_icon","icon","size","_hoisted_4","_hoisted_10","type","accept","onChange","_hoisted_11","_hoisted_13"],"sourceRoot":"","sources":["/Users/boo/Desktop/poiesis/src/components/UploadButton.vue"],"sourcesContent":["<template>\n    <div class=\"container \" :class=\"(mode === 'dark')?'dark':'light'\">\n      <div class=\"col\">\n         <div class=\"navBar \" >\n            <VueWriter :array=\"arr\" :typeSpeed=\"100\" :eraseSpeed=\"70\"  :delay=\"2000\"/>\n            <div class=\"something\" :class=\"(mode === 'dark')?'dark':'light'\">\n            <button :class=\"(mode === 'dark')?'dark-mode-button-dark':'dark-mode-button-light'\" @click=\"changeMode\">\n            <span v-if=\"mode==='light'\"><font-awesome-icon icon='sun' size=\"3x\"/></span>\n            <span v-else><font-awesome-icon icon='moon' size=\"3x\"/></span></button>     \n        </div>\n    </div>\n      <div class=\"row\">\n             <div class=\"graph horizontal-container\" :class=\"(mode === 'dark')?'dark-container':'light-container'\">\n                <h3>Outline</h3>\n              </div>\n              <div class=\"col\">\n                  <div class=\"row\">\n                     <div class=\"upload horizontal-container\" :class=\"(mode === 'dark')?'dark-container':'light-container'\">\n                        <h3>Upload your graph</h3>\n                        <input class=\"upload-button\" type=\"file\" accept=\"image/*\" @change=\"uploadFile\"/>\n                      </div>\n                      <div class=\"undoRedo horizontal-container\" :class=\"(mode === 'dark')?'dark-container':'light-container'\">\n                        <h3>Functional Bar</h3>\n                        <div class=\"button-group\">\n                          <button @click=\"undoHistory\"> Undo </button>\n                          <button @click=\"redoHistory\"> Redo </button>\n                          <button @click=\"onBoundingBoxActive\"> Bounding Box </button>\n                          <button @click=\"logCanvasData\"> Log Canvas </button>\n                        </div>\n                      </div>\n                  </div>\n                  <div class=\"horizontal-container min-height\" :class=\"(mode === 'dark')?'dark-container':'light-container'\">\n                    <h3>Graph</h3>\n                    <canvas ref=\"can\"></canvas>\n                  </div>\n              </div>\n      </div>\n      </div>\n    </div>\n    \n   \n</template>\n\n<script>\nimport { fabric } from 'fabric';\nimport BoundingBox from '../assets/BoundingBox.js'\nimport History from '../assets/StateStore.js'\n\n\n\nexport default {\n\n  \n  name: 'imageUpload',\n  props: {\n      canW: {\n          type: [String,Number],\n          required: true\n      },\n      canH: {\n          type: [String,Number],\n          required: true\n      },\n  },\n  data() {\n    return {\n     mode:\"dark\",\n     arr: [\"Poiesis\", \"ποίησις\"],\n      item:{\n          image : null,\n          imageUrl: null\n      },\n      canvas: null,\n      boundingBoxActive: false,\n      bgSet: false,\n    }\n  },\n  mounted() {\n      \n      this.canvas = new fabric.Canvas(this.$refs.can, {selection: false});\n      this.canvas.setDimensions({width: this.canW, height: this.canH});\n      this.history = new History();\n  },\n  methods: {\n    changeMode(){\n      if(this.mode===\"dark\"){\n        this.mode=\"light\"\n      }else{\n        this.mode=\"dark\"\n      }\n      console.log(this.mode)\n    },\n    turnOffListeners() {\n      if (this.boundingBoxActive) {\n        this.boundingBoxActive = !this.boundingBoxActive;\n      }\n      this.canvas.off('mouse:down').off('mouse:move').off('mouse:up');\n    },\n    // cursor(el){\n    //   gsap.to(el,{opacity:0,ease:\"power2.inOut\",repeat:-1})\n    // },\n    updateHistory() {\n      this.canvas.renderAll();\n      console.log(JSON.stringify(this.canvas));\n      this.history.push(JSON.stringify(this.canvas));\n    },\n    undoHistory() {\n      this.turnOffListeners();\n      this.canvas.loadFromJSON(this.history.undo());\n    },\n    redoHistory() {\n      this.turnOffListeners();\n      this.canvas.loadFromJSON(this.history.redo());\n    },\n    uploadFile(e) {\n      const file = e.target.files[0];\n      this.item.image = file;\n      this.item.imageUrl = URL.createObjectURL(file);\n      \n      \n      this.canvas.setBackgroundImage(this.item.imageUrl,this.canvas.renderAll.bind(this.canvas));\n      this.canvas.renderAll();\n      this.bgSet = 1;\n    },\n    onBoundingBoxActive() {\n      if (this.bgSet) {\n        this.updateHistory();\n        this.bgSet = !this.bgSet;\n      }\n      this.boundingBoxActive = !this.boundingBoxActive;\n      BoundingBox(this.canvas, this.boundingBoxActive, this.history);   \n    },\n    logCanvasData() {\n      console.log(JSON.stringify(this.canvas));\n    }\n  },\n\n} \n</script>"]},"metadata":{},"sourceType":"module"}